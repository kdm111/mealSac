<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./common/commonHead.ejs') %>
    <title>mainPage</title>
    <link rel="stylesheet" href="/static/css/index.css" />
    <script src="../static/js/index.js"></script>
  </head>
  <body>
    <!-- Header -->
    <%- include('./common/header.ejs') %>

    <!-- search -->
    <div class="searchContainer">
      <input type="text" id="searchInput" placeholder="매장명 검색" />
      <button type="submit">검색</button>
    </div>
    <br />

    <!-- Menu Icons -->
    <div class="menuIcons">
      <div class="button" onclick="window.location.href='/random'">
        <img src="../static/img/random.png" alt="랜덤 메뉴 아이콘" />
        <p>랜덤 메뉴</p>
      </div>
      <div class="button" onclick="window.location.href='/board'">
        <img src="../static/img/chat.png" alt="게시판 아이콘" />
        <p>게시판</p>
      </div>
      <div class="button" onclick="window.location.href='/restaurants'">
        <img src="../static/img/search.png" alt="키워드 검색 아이콘" />
        <p>식당 찾기</p>
      </div>
    </div>
    <br />

    <!-- Popular Restaurants -->
    <div class="restaurants">
      <h3>인기식당</h3>
      <button class="slide-btn prev">&lt;</button>
      <div class="slide-container">
        <div class="cardMenu">
          <% popularRestaurants.forEach(function(restaurant) { %>
          <div class="card-container">
            <div
              class="card"
              onclick="window.location.href='/restaurant/<%= restaurant.restaurant_id %>'"
            >
              <img
                src="<%= restaurant.image_url %>"
                alt="<%= restaurant.restaurant_name %>"
              />
              <p class="restaurantName"><%= restaurant.restaurant_name %></p>
              <div class="categoryRating">
                <p class="category"><%= restaurant.category %></p>
                <div class="ratingReview">
                  <p class="rating">
                    <img src="../static/img/rating.png" alt="Rating" /> <%=
                    restaurant.rating %>
                  </p>
                  <p class="review">
                    <img src="../static/img/speechBalloon.png" alt="Review" />
                    <%= restaurant.review_count %>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <% }); %>
        </div>
      </div>
      <button class="slide-btn next">&gt;</button>
    </div>
    <br />

    <!-- New Restaurants -->
    <div class="restaurants">
      <h3>신규식당</h3>
      <button class="slide-btn prev">&lt;</button>
      <div class="slide-container">
        <div class="cardMenu">
          <% recentRestaurants.forEach(function(restaurant) { %>

          <div class="card-container">
            <div
              class="card"
              onclick="window.location.href='/restaurant/<%= restaurant.restaurant_id %>'"
            >
              <img
                src="<%= restaurant.image_url %>"
                alt="<%= restaurant.restaurant_name %>"
              />
              <p class="restaurantName"><%= restaurant.restaurant_name %></p>
              <div class="categoryRating">
                <p class="category"><%= restaurant.category %></p>
                <div class="ratingReview">
                  <p class="rating">
                    <img src="../static/img/rating.png" alt="Rating" /> <%=
                    restaurant.rating %>
                  </p>
                  <p class="review">
                    <img src="../static/img/speechBalloon.png" alt="Review" />
                    <%= restaurant.review_count %>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <% }); %>
        </div>
      </div>
      <button class="slide-btn next">&gt;</button>
    </div>
    <br />

    <!-- User's Favorites (if log in) -->

    <% if (typeof userLikeRestaurants !== 'undefined') { %>
    <div class="restaurants">
      <h3>찜한 식당</h3>
      <button class="slide-btn prev">&lt;</button>
      <div class="slide-container">
        <div class="cardMenu">
          <% userLikeRestaurants.forEach(function(restaurant) { %>

          <div class="card-container">
            <div
              class="card"
              onclick="window.location.href='/restaurant/<%= restaurant.restaurant_id %>'"
            >
              <img
                src="<%= restaurant.image_url %>"
                alt="<%= restaurant.restaurant_name %>"
              />
              <p class="restaurantName"><%= restaurant.restaurant_name %></p>
              <div class="categoryRating">
                <p class="category"><%= restaurant.category %></p>
                <div class="ratingReview">
                  <p class="rating">
                    <img src="../static/img/rating.png" alt="Rating" /> <%=
                    restaurant.rating %>
                  </p>
                  <p class="review">
                    <img src="../static/img/speechBalloon.png" alt="Review" />
                    <%= restaurant.review_count %>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <% }); %>
        </div>
      </div>
      <button class="slide-btn next">&gt;</button>
    </div>
    <br />
    <% } %>

    <!-- Footer -->
    <%- include('./common/footer.ejs') %>
  </body>
</html>
